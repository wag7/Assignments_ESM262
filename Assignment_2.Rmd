---
title: "Assignment_2.Informatics."
author: "Wagner Quiros Pereira"
date: "5/9/2017"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## ESM ASSIGNMENT 2.

##Part1. Data Ingest.

**1. Reading the gazetteer data as-is (all columns; no type conversion) into a gaz_raw tibble and keeping only specific columns**

```{r 1}
suppressPackageStartupMessages({
  library(tidyverse)
  library(dplyr)
  library(magrittr)
})
gaz_raw_<- read_delim("CA_Features_20170401.zip", delim = "|")
  as_tibble(gaz_raw_)
  colnames(gaz_raw_) [1] <- "ID"
gaz <- select(gaz_raw_, ID, FEATURE_NAME, FEATURE_CLASS, STATE_ALPHA, COUNTY_NAME, PRIM_LAT_DEC, PRIM_LONG_DEC, SOURCE_LAT_DEC,  SOURCE_LONG_DEC, ELEV_IN_M, MAP_NAME, DATE_CREATED, DATE_EDITED)
as_tibble(gaz)
```

**2. Converting the gaz columns to the appropriate type, and any placeholders for unknown data to NA**

```{r 2}
gaz$PRIM_LAT_DEC<- parse_character(gaz$PRIM_LAT_DEC, na="0")
gaz$PRIM_LONG_DEC<- parse_character(gaz$PRIM_LONG_DEC, na="0")
View(gaz)
```

**4. Delete from gaz rows where:**

*The primary latitude or longitude are unknown
*The feature is not in California

```{r 4}
cleangaz <- gaz %>%
filter(STATE_ALPHA %in% c("CA")) 
View(cleangaz)
write_csv(cleangaz, "GAZCA")
```


##Part1. Analyze.
**1.What is the most-frequently-occuring feature name ?**

```{r 5}
Common_feature_name <- count(cleangaz, FEATURE_NAME)
Common_feature_name[which.max(Common_feature_name$n), 1]
```

**The most frequestly ocurring feature name is the church of Christ*

**2.What is the most-frequently-occuring feature class ?**


```{r 6}
Common_feature_class <- count(cleangaz, FEATURE_CLASS)
Common_feature_class[which.min(Common_feature_class$n), 1]
```

**The most frequestly ocurring feature class is Isthmus*

**3.What is the approximate center point of each county CPC ?**

```{r 7}



```




```{r 8}



```

  
## Including Plots

You can also embed plots, for example:

```{r pressure, echo=FALSE}
plot(pressure)
```

Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.
